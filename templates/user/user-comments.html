{% extends "user/user-base.html" %}

{% block user_js_media %}
    <style>
        .comment-body {
            word-wrap: break-word;
            word-break: break-word;
        }
        .comment-operation {
            flex: auto;
        }
        .comment-display {
            display: flex;
            margin-top: -0.25em !important;
            padding-left: 1em;
            padding-top: 0.5em !important;
            border: 1px solid #ccc;
            background: #fafafa;
            border-radius: 4px;
        }
    </style>
    <script type="text/javascript">

    </script>
{% endblock %}

{% block title_ruler %}{% endblock %}

{% block title_row %}
    {% set tab = 'comments' %}
    {% include "user/user-tabs.html" %}
{% endblock %}

{% block user_content %}
    <h3>{{ _('Comment History') }}</h3>
    <br>
    {% for comment in comment_history %}
        <div class="comment-display">
            <div class="header">
                {{ link_user(user) }}
                {{ relative_time(comment.time, abs=_('commented on {time}'), rel=_('commented {time}')) }} 
                {{ comment.body|markdown('comment', MATH_ENGINE, True)|reference|str|safe }}
            </div>
            
            <span class="comment-operation">
                <a href="#comment-{{ comment.id }}" title="{{ _('Link') }}" class="comment-link">
                <i class="fa fa-link fa-fw" style="float:right; padding-right: 0.5em;"></i>
            </a>
            {{ comment.page }}
            {{ comment.score }}
        </div>
        <br>
    {% endfor %}
{% endblock %}
